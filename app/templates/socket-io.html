<!DOCTYPE HTML>
<html>
<head>
    <title>Flask-SocketIO Test</title>
    <script type="text/javascript" src="//code.jquery.com/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.5/socket.io.min.js"></script>
    <script type="text/javascript" charset="utf-8">
	var ansible_message=""
        $(document).ready(function() {
            var socket = io.connect("http://127.0.0.1:5000/");
            // This will be called by server.
            // Anonymous function will be executed and span with id "view" will be updated
            socket.emit("begin_exec")
            socket.on('my_response', function(msg) {
		console.log(msg.data)
		ansible_message.concat(msg.data+"\n")
                $('#view').html(function(i,origText){
			return origText+"<br/>"+msg.data+"<br/>";	
		});

            });
        });
    </script>
</head>
<body>
    <h1>Flask-SocketIO Simple Example</h1>
    <p><span id="view"></span></p>
</a>
</body>
</html>
